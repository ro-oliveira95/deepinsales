(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{146:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(45),s=a.n(r),o=a(15),i=a(11),l=a(10),u=a(8),d=a.n(u),j=a(14),b=a(16),p=a.n(b),m="SET_ALERT",O="REMOVE_ALERT",f="REGISTER_SUCCESS",h="REGISTER_FAIL",x="USER_LOADED",g="AUTH_ERROR",v="LOGIN_SUCCESS",y="LOGIN_FAIL",N="LOGOUT",w="GET_PRODUCTS",C="QUERY_PRODUCTS",k="DELETE_PRODUCT",S="DELETE_CATEGORY_FROM_PRODUCT",R="ADD_PRODUCT",_="ERROR_ADD_PRODUCT",E="LOADING_PRODUCT",A="PRODUCTS_ERROR",T="GET_RECORDS",I="RECORDS_ERROR",D="TOGGLE_PLOT_ITEM",P="TOGGLE_PLOT_VISUALIZATION",L=a(294),F=function(e,t){return function(a){var n=Object(L.a)();a({type:m,payload:{msg:e,alertType:t,id:n}}),setTimeout((function(){return a({type:O,payload:n})}),3e3)}},U=function(e){e?p.a.defaults.headers.common.Authorization=e:delete p.a.defaults.headers.common.Authorization},V=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&U(localStorage.token),e.prev=1,e.next=4,p.a.get("/api/auth");case 4:a=e.sent,t({type:x,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:g});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},G=a.p+"static/media/logo.360a1715.png",M=a(1);var z=Object(l.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(e){e({type:N})}}})((function(e){var t=e.auth,a=t.isAuthenticated,c=t.loading,r=e.logout,s=Object(i.g)().pathname,l=Object(M.jsx)("ul",{children:Object(M.jsx)("li",{children:Object(M.jsxs)("a",{onClick:r,href:"#!",children:[Object(M.jsx)("i",{className:"fas fa-sign-out-alt"})," ",Object(M.jsx)("span",{className:"hide-sm",children:"Sair"})]})})}),u=Object(M.jsxs)("ul",{children:[Object(M.jsx)("li",{children:Object(M.jsx)(o.b,{to:"/login",children:"Login"})}),Object(M.jsx)("li",{children:Object(M.jsx)(o.b,{to:"/registrar",children:"Registrar"})})]});return Object(M.jsxs)("nav",{className:"navbar ".concat("/dashboard"===s&&"navbar-transposed"),children:["/dashboard"!==s?Object(M.jsxs)(o.b,{to:"/",className:"logo-container",children:[Object(M.jsx)("img",{src:G,alt:"logo",className:"logo-s"}),Object(M.jsx)("h3",{children:"Deep in Sales"})]}):Object(M.jsx)(n.Fragment,{children:Object(M.jsx)("img",{src:G,alt:"logo",className:"logo-m"})}),!c&&Object(M.jsxs)(n.Fragment,{children:[" ",a?l:u]})]})}));var J=function(){return Object(M.jsx)("section",{className:"landing",children:Object(M.jsx)("div",{className:"dark-overlay",children:Object(M.jsxs)("div",{className:"landing-inner",children:[Object(M.jsx)("h1",{className:"x-large",children:"Deep in Sales"}),Object(M.jsx)("p",{className:"lead",children:"Monitore an\xfancios do Mercado Livre."}),Object(M.jsxs)("div",{class:"buttons-container",children:[Object(M.jsx)(o.b,{to:"/registrar",className:"btn btn-primary",children:"Registrar"}),Object(M.jsx)(o.b,{to:"/login",className:"btn btn-light",children:"Login"})]})]})})})},q=a(6),B=a(3),H=a(12),Y=Object(l.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map((function(e){return Object(M.jsx)("div",{className:"alert alert-".concat(e.alertType),children:e.msg},e.id)}))}));var K=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e){var t=e.email,a=e.password;return function(){var e=Object(j.a)(d.a.mark((function e(n){var c,r,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:t,password:a}),e.prev=2,e.next=5,p.a.post("/api/auth",r,c);case 5:s=e.sent,n({type:v,payload:s.data}),n(V()),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),(o=e.t0.response.data.errors)&&o.forEach((function(e){return n(F(e.message,"danger"))})),n({type:y});case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.login,a=e.isAuthenticated,c=Object(n.useState)({email:"",password:""}),r=Object(H.a)(c,2),s=r[0],o=r[1],l=s.email,u=s.password,d=function(e){return o(Object(B.a)(Object(B.a)({},s),{},Object(q.a)({},e.target.name,e.target.value)))};return a?Object(M.jsx)(i.a,{to:"/dashboard"}):Object(M.jsx)(n.Fragment,{children:Object(M.jsxs)("section",{className:"container",children:[Object(M.jsx)(Y,{}),Object(M.jsx)("h1",{className:"large text-primary",children:"Login"}),Object(M.jsxs)("p",{className:"lead",children:[Object(M.jsx)("i",{className:"fas fa-user"})," Entre na sua conta"]}),Object(M.jsxs)("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t({email:l,password:u})}(e)},children:[Object(M.jsx)("div",{className:"form-group",children:Object(M.jsx)("input",{type:"email",placeholder:"Endere\xe7o de email",name:"email",value:l,onChange:function(e){return d(e)},required:!0})}),Object(M.jsx)("div",{className:"form-group",children:Object(M.jsx)("input",{type:"password",placeholder:"Senha",name:"password",minLength:"6",value:u,onChange:function(e){return d(e)},required:!0})}),Object(M.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Entrar"}),Object(M.jsxs)("p",{className:"my-1",children:["N\xe3o tem uma conta? ",Object(M.jsx)("a",{href:"/registrar",children:"Registre-se"})]})]})]})})}));var Q=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{setAlert:F,register:function(e){var t=e.name,a=e.email,n=e.password;return function(){var e=Object(j.a)(d.a.mark((function e(c){var r,s,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"Content-Type":"application/json"}},s=JSON.stringify({name:t,email:a,password:n}),e.prev=2,e.next=5,p.a.post("/api/users/register",s,r);case 5:o=e.sent,c({type:f,payload:o.data}),c(V()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),(i=e.t0.response.data.errors)&&i.forEach((function(e){return c(F(e.message,"danger"))})),c({type:h});case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.setAlert,a=e.register,c=e.isAuthenticated,r=Object(n.useState)({name:"",email:"",password:"",password2:""}),s=Object(H.a)(r,2),o=s[0],l=s[1],u=o.name,d=o.email,j=o.password,b=o.password2,p=function(e){return l(Object(B.a)(Object(B.a)({},o),{},Object(q.a)({},e.target.name,e.target.value)))};return c?Object(M.jsx)(i.a,{to:"/dashboard"}):Object(M.jsx)(n.Fragment,{children:Object(M.jsxs)("section",{className:"container",children:[Object(M.jsx)(Y,{}),Object(M.jsx)("h1",{className:"large text-primary",children:"Registro"}),Object(M.jsxs)("p",{className:"lead",children:[Object(M.jsx)("i",{className:"fas fa-user"})," Crie uma conta"]}),Object(M.jsxs)("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),j!==b?t("As senhas n\xe3o correspondem","danger"):a({name:u,email:d,password:j})}(e)},children:[Object(M.jsx)("div",{className:"form-group",children:Object(M.jsx)("input",{type:"text",placeholder:"Nome",name:"name",value:u,onChange:function(e){return p(e)}})}),Object(M.jsx)("div",{className:"form-group",children:Object(M.jsx)("input",{type:"email",placeholder:"Endere\xe7o de email",name:"email",value:d,onChange:function(e){return p(e)}})}),Object(M.jsx)("div",{className:"form-group",children:Object(M.jsx)("input",{type:"password",placeholder:"Senha",name:"password",minLength:"6",value:j,onChange:function(e){return p(e)}})}),Object(M.jsx)("div",{className:"form-group",children:Object(M.jsx)("input",{type:"password",placeholder:"Repetir senha",name:"password2",minLength:"6",value:b,onChange:function(e){return p(e)}})}),Object(M.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Registar-se"}),Object(M.jsxs)("p",{className:"my-1",children:["J\xe1 possui uma conta? ",Object(M.jsx)("a",{href:"/login",children:"Entrar"})]})]})]})})})),W=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/api/records");case 3:a=e.sent,t({type:T,payload:a.data.records}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),t({type:I,payload:{msg:"error"}});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Z=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/api/products");case 3:a=e.sent,t({type:w,payload:a.data.products}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:A,payload:{msg:"error"}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},$=a(9),X=a(46),ee=a(47),te=a(20),ae=(a(146),Object(l.b)((function(e){return{plot:e.plot}}),{togglePlotItem:function(e,t,a){return function(){var n=Object(j.a)(d.a.mark((function n(c){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=a?[].concat(Object($.a)(e),[t]):e.filter((function(e){return e!==t})),c({type:D,payload:r});case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteProduct:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(a){var n,c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:E}),n={headers:{"Content-Type":"application/json"}},c=JSON.stringify({productId:e}),t.prev=3,t.next=6,p.a.post("/api/products/delete",c,n);case 6:t.sent,a({type:k}),a(Z()),a(W()),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),(r=t.t0.response.data.errors)&&r.forEach((function(e){return a(F(e.message,"danger"))}));case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}()},deleteCategoryFromProduct:function(e,t){return function(){var a=Object(j.a)(d.a.mark((function a(n){var c,r,s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={headers:{"Content-Type":"application/json"}},r=JSON.stringify({productId:e,categoryName:t}),a.prev=2,a.next=5,p.a.post("/api/products/category/delete",r,c);case 5:a.sent,n({type:S}),n(Z()),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(2),(s=a.t0.response.data.errors)&&s.forEach((function(e){return n(F(e.message,"danger"))}));case 14:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.product,a=e.togglePlotItem,c=e.deleteProduct,r=e.deleteCategoryFromProduct,s=e.plot,o=Object(n.useState)(!1),i=Object(H.a)(o,2),l=i[0],u=i[1],d=Object(n.useState)(!1),j=Object(H.a)(d,2),b=j[0],p=j[1],m=Object(n.useState)({name:""}),O=Object(H.a)(m,2),f=O[0],h=O[1],x=Object(n.useState)(!1),g=Object(H.a)(x,2),v=g[0],y=g[1],N=f.name;Object(n.useEffect)((function(){s.plotItems.includes(t.id)?y(!0):y(!1)}),[s,t]);var w=function(e){e.preventDefault()},C=(n.Fragment,t.category.map((function(e,a){return Object(M.jsxs)("div",{className:"categories-tag",style:{border:"1px solid ".concat(e.borderColor),backgroundColor:"".concat(e.bgColor)},children:[Object(M.jsx)("p",{children:e.name}),Object(M.jsx)(X.a,{style:{marginLeft:"5px",display:"".concat(l?"block":"none")},onClick:function(){return r(t.id,e.name)},className:"tag-delete"})]},a)}))),k=Object(M.jsxs)(n.Fragment,{children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("i",{className:"fas fa-shopping-cart icon icon-colorful"}),Object(M.jsx)("p",{className:"info-icon-text",children:t.curr_total_sells})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("i",{className:"fas fa-eye icon icon-colorful"}),Object(M.jsx)("p",{className:"info-icon-text",children:t.curr_total_visits})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("i",{className:"fas fa-exchange-alt  icon icon-colorful"}),Object(M.jsx)("p",{className:"info-icon-text",children:null!==t.mean_sells&&void 0!==t.mean_sells?t.mean_sells.toFixed(2):"x"})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("i",{className:"fas fa-sync-alt icon icon-colorful"}),Object(M.jsxs)("p",{className:"info-icon-text",children:[null!==t.conversion_rate&&void 0!==t.conversion_rate?(100*t.conversion_rate).toFixed(1):"x","%"]})]})]}),S=Object(M.jsx)(n.Fragment,{children:Object(M.jsxs)("div",{className:"icon-btn btn-danger",onClick:function(){return c(t.id)},children:[Object(M.jsx)("i",{className:"fas fa-trash-alt icon-sm",style:{marginRight:"5px"}}),"Deletar"]})}),R=Object(M.jsxs)(n.Fragment,{children:[Object(M.jsxs)("div",{className:"flex-col-space-left",children:[Object(M.jsxs)("div",{className:"mg-b-2 flex-row",children:[Object(M.jsx)("i",{className:"fas fa-store mg-r-1 icon icon-colorful"}),Object(M.jsx)("p",{className:"item-info-text",children:t.seller})]}),Object(M.jsxs)("div",{className:"mg-b-2 flex-row",children:[Object(M.jsx)("i",{className:"far fa-clock mg-r-1 icon icon-colorful"}),Object(M.jsx)("p",{className:"item-info-text",children:"".concat(te.DateTime.fromISO(t.createdAt).toFormat("ff"))})]})]}),Object(M.jsxs)("div",{className:"flex-col-space-left",children:[Object(M.jsxs)("div",{className:"mg-b-2 flex-row",children:[Object(M.jsx)("i",{className:"fas fa-money-bill mg-r-1 icon icon-colorful"}),Object(M.jsxs)("p",{className:"item-info-text",children:["R$",t.price]})]}),Object(M.jsx)("p",{className:"item-info-text",style:{color:!t.is_buy_box&&"#555"},children:"Buybox"})]})]}),_=Object(M.jsxs)("div",{className:"item-container noselect ".concat(v?"border-glow":""," ").concat("active"!=t.status?"item-paused":""),children:[Object(M.jsx)("a",{href:t.url,target:"_blank",children:Object(M.jsx)("img",{src:t.image_url,alt:"produto",className:"image-btn"})}),Object(M.jsxs)("div",{className:"item-outer",children:[Object(M.jsxs)("div",{className:"item-header",children:[Object(M.jsx)("i",{className:"fas fa-info icon icon-btn icon-header-product ".concat(b?"btn-icon-glow-green":""),style:{marginRight:"5px"},onClick:function(){return t.name,p(!b),void(!b&&l&&u(!1))}}),Object(M.jsx)("i",{className:"fas fa-cog icon icon-btn icon-header-product ".concat(l?"btn-icon-glow-green":""),onClick:function(){return t.name,u(!l),void(!l&&b&&p(!1))}}),Object(M.jsx)("p",{className:"item-title",children:t.name.length>30?t.name.slice(0,31).concat("..."):t.name}),"active"!=t.status&&Object(M.jsx)(ee.b,{className:"icon-paused"}),Object(M.jsx)("i",{className:"fas fa-chart-bar icon icon-btn icon-header-product ".concat(v?"btn-icon-glow":""),onClick:function(){return function(e){y(!v),a(s.plotItems,e.id,!v)}(t)}})]}),!b&&Object(M.jsx)("div",{className:"categories-box",children:C}),Object(M.jsx)("div",{className:"item-inner ".concat(b&&"product-details-expand-h mg-t-1"),children:l?S:b?R:k})]})]});return Object(M.jsx)(n.Fragment,{children:_})}))),ne=function(e){var t=e.tags,a=e.setTags,c=Object(n.useRef)(""),r=function(){return Math.floor(250*Math.random())};return Object(M.jsxs)("div",{children:[Object(M.jsx)("input",{id:"categoryInput",type:"text",placeholder:"Categoria (TAB para adicionar)",onKeyDown:function(e){var n=e.target.value,s=[r(),r(),r()],o=s[0],i=s[1],l=s[2];"rgb(".concat(o,", ").concat(i,", ").concat(l,")"),"rgba(".concat(o,", ").concat(i,", ").concat(l,", 0.1)");if("Tab"===e.key&&n){if(console.log(t,n),t.includes(n))return void console.log("saiu");a([].concat(Object($.a)(t),[n])),c.current.value=""}},ref:c}),Object(M.jsx)("ul",{className:"tag-container",children:t.map((function(e,n){return Object(M.jsxs)("li",{className:"tag",children:[e,Object(M.jsx)(X.a,{onClick:function(){return function(e){var n=Object($.a)(t);n.splice(e,1),a(n)}(n)},className:"tag-delete"})]},e)}))})]})};var ce=Object(l.b)(null,{addProduct:function(e){var t=e.name,a=e.url,n=e.categories;return function(){var e=Object(j.a)(d.a.mark((function e(c){var r,s,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"Content-Type":"application/json"}},s=JSON.stringify({name:t,url:a,categories:n}),e.prev=2,c({type:E}),e.next=6,p.a.post("/api/products",s,r);case 6:o=e.sent,c({type:R,payload:o.data.product}),c(Z()),c(W()),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),(i=e.t0.response.data.errors)&&i.forEach((function(e){return c(F(e.message,"danger"))})),c({type:_});case 17:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.addProduct,a=e.onAddProduct,c=Object(n.useState)(""),r=Object(H.a)(c,2),s=r[0],o=r[1],i=Object(n.useState)(""),l=Object(H.a)(i,2),u=l[0],d=l[1],j=Object(n.useState)([]),b=Object(H.a)(j,2),p=b[0],m=b[1];return Object(M.jsxs)("div",{className:"addProduct-container",children:[Object(M.jsx)("h1",{children:"Adicione um produto"}),Object(M.jsxs)("form",{className:"add-form",onSubmit:function(e){e.preventDefault(),t({name:s,url:u,categories:p}),o(""),d(""),m([]),a()},onKeyDown:function(e){"Tab"===e.key&&(document.getElementById("categoryInput")!==document.activeElement||e.preventDefault())},children:[Object(M.jsxs)("div",{className:"form-control text-light",children:[Object(M.jsx)("label",{children:"URL do an\xfancio"}),Object(M.jsx)("input",{type:"url",placeholder:"URL do an\xfancio",value:u,onChange:function(e){return d(e.target.value)},required:!0})]}),Object(M.jsxs)("div",{className:"form-control text-light",children:[Object(M.jsx)("label",{children:"Nome (opcional)"}),Object(M.jsx)("input",{type:"text",placeholder:"Nome do produto",value:s,onChange:function(e){return o(e.target.value)}})]}),Object(M.jsxs)("div",{className:"form-control text-light",children:[Object(M.jsx)("label",{children:"Categoria(s)"}),Object(M.jsx)(ne,{tags:p,setTags:m})]}),Object(M.jsx)("input",{type:"submit",value:"Salvar an\xfancio",className:"btn btn-success btn-block"})]})]})})),re=a(103),se=a(106),oe=a.n(se);var ie=Object(l.b)(null,{queryProducts:function(e,t){return function(){var a=Object(j.a)(d.a.mark((function a(n){var c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c=e.filter((function(e){return e.name.toUpperCase().includes(t.toUpperCase())||e.category.map((function(e){return e.name})).reduce((function(e,t){return e.concat(t)}),"").toUpperCase().includes(t.toUpperCase())})),n({type:C,payload:c});case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},togglePlotVisualization:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:P,payload:e?"daily":"acumulated"});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t,a=e.queryProducts,c=e.products,r=e.productsInView,s=e.loading,o=e.togglePlotVisualization,i=Object(n.useState)(!1),l=Object(H.a)(i,2),u=l[0],d=l[1],j=Object(n.useState)(!1),b=Object(H.a)(j,2),p=b[0],m=b[1],O=Object(n.useState)([{dateIni:"",dateEnd:"",productName:""}]),f=Object(H.a)(O,2),h=f[0],x=f[1],g=Object(n.useState)("sells"),v=Object(H.a)(g,2),y=v[0],N=v[1],w=Object(n.useState)(!1),C=Object(H.a)(w,2),k=C[0],S=C[1],R=(h.dateIni,h.dateEnd,h.productName),_=function(e){a(c,e)},E=r.sort((function(e,t){var a,n;switch(y){case"createdAt":a=e.createdAt,n=t.createdAt;break;case"meanSells":a=e.mean_sells,n=t.mean_sells;break;case"sells":a=e.curr_total_sells,n=t.curr_total_sells;break;case"visits":a=e.curr_total_visits,n=t.curr_total_visits;break;case"conversionRate":a=e.conversion_rate,n=t.conversion_rate}return a>n?-1:a<n?1:0})).map((function(e){return Object(M.jsx)(ae,{product:e},e.id)})),A=Object(M.jsx)(n.Fragment,{children:Object(M.jsxs)("div",{className:"plotConfig-container noselect",children:[Object(M.jsx)("h2",{children:"Ajustes do gr\xe1fico"}),Object(M.jsxs)("div",{className:"expand-width",children:[Object(M.jsx)("p",{children:"Modo de visualiza\xe7\xe3o"}),Object(M.jsxs)("div",{className:"plotConfig-bx",children:[Object(M.jsx)("span",{children:"Acumulado"}),Object(M.jsx)(oe.a,(t={onChange:function(e){S(e),o(e)},checked:k,onColor:"#ddd",offColor:"#ddd",onHandleColor:"#2693e6",offHandleColor:"#2693e6",handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:15},Object(q.a)(t,"handleDiameter",22),Object(q.a)(t,"width",48),Object(q.a)(t,"className","react-switch"),Object(q.a)(t,"id","material-switch"),t)),Object(M.jsx)("span",{children:"Hora em hora"})]})]})]})});return Object(M.jsx)(n.Fragment,{children:Object(M.jsxs)("section",{className:"container-products",children:[Object(M.jsxs)("div",{className:"products-header",children:[Object(M.jsx)("form",{id:"search-product",onSubmit:function(e){return _(e)}}),Object(M.jsxs)("div",{className:"form-products",children:[Object(M.jsx)("i",{className:"fas fa-chart-pie icon icon-btn icon-15x pop-window-btn",onClick:function(){d(!u)}}),Object(M.jsxs)("div",{class:"dropdown",children:[Object(M.jsxs)("button",{class:"dropbtn",children:[Object(M.jsx)(ee.a,{}),"createdAt"==y?Object(M.jsx)("i",{className:"fas fa-clock"}):"meanSells"==y?Object(M.jsx)("i",{className:"fas fa-exchange-alt"}):"sells"==y?Object(M.jsx)("i",{className:"fas fa-shopping-cart"}):"visits"==y?Object(M.jsx)("i",{className:"fas fa-eye"}):Object(M.jsx)("i",{className:"fas fa-sync-alt"})]}),Object(M.jsxs)("div",{class:"dropdown-content",children:[Object(M.jsxs)("div",{className:" icon-dropdown icon-btn",onClick:function(){return N("createdAt")},children:[Object(M.jsx)("i",{className:"fas fa-clock"}),Object(M.jsx)("span",{children:"Data de inser\xe7\xe3o"})]}),Object(M.jsxs)("div",{className:"icon-dropdown icon-btn",onClick:function(){return N("sells")},children:[Object(M.jsx)("i",{className:"fas fa-shopping-cart"}),Object(M.jsx)("span",{children:"Vendas"})]}),Object(M.jsxs)("div",{className:"icon-dropdown icon-btn",onClick:function(){return N("visits")},children:[Object(M.jsx)("i",{className:"fas fa-eye"}),Object(M.jsx)("span",{children:"Visitas"})]}),Object(M.jsxs)("div",{className:"icon-dropdown icon-btn",onClick:function(){return N("meanSells")},children:[Object(M.jsx)("i",{className:"fas fa-exchange-alt"}),Object(M.jsx)("span",{children:"M\xe9dia de vendas/hora"})]}),Object(M.jsxs)("div",{className:"icon-dropdown icon-btn",onClick:function(){return N("conversionRate")},children:[Object(M.jsx)("i",{className:"fas fa-sync-alt"}),Object(M.jsx)("span",{children:"Taxa de convers\xe3o"})]})]})]}),Object(M.jsx)("div",{className:"dummy",children:u&&A}),Object(M.jsx)("input",{type:"text",placeholder:"Pesquise produtos ou categorias...",form:"search-product",name:"productName",value:R,onChange:function(e){return function(e){x(Object(B.a)(Object(B.a)({},h),{},Object(q.a)({},e.target.name,e.target.value))),"productName"===e.target.name&&_(e.target.value)}(e)}}),Object(M.jsx)("i",{className:"fas fa-plus-square icon-btn icon-2x add-product-btn",onClick:function(){m(!p)}}),Object(M.jsx)("div",{className:"dummy",children:p&&Object(M.jsx)(ce,{onAddProduct:function(){m(!1)}})})]})]}),Object(M.jsxs)("div",{className:"products-body",style:{overflowY:"auto"},children:[s&&Object(M.jsx)(n.Fragment,{children:Object(M.jsx)(re.CommonLoading,{})}),Object(M.jsx)(Y,{}),E]})]})})})),le=a(111);a(289);var ue=Object(l.b)((function(e){return{plot:e.plot}}))((function(e){var t=e.records,a=e.plot,c={datasets:t.filter((function(e){return a.plotItems.includes(e.productId)})).filter((function(e){return e.record.length>0})).map((function(e){return{label:e.productName,data:e.record.map((function(e){return{x:e.timestamp,y:"daily"==a.visualization?e.daily_sells:e.total_sells}})),fill:!1,backgroundColor:"rgb(".concat(e.color[0],", ").concat(e.color[1],", ").concat(e.color[2],")"),borderColor:"rgb(".concat(e.color[0],", ").concat(e.color[1],", ").concat(e.color[2],", 0.2)"),tension:.2}}))};return Object(M.jsx)(n.Fragment,{children:Object(M.jsx)("section",{className:"container-plot",children:Object(M.jsx)(le.a,{data:c,height:150,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{position:"left",title:{display:!0,text:"daily"==a.visualization?"Vendas de hora em hora":"Vendas acumuladas",font:{size:16}},grid:{display:!0,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,color:"rgba(120,120,120, 0.5)"}},x:{type:"time",distribution:"linear",time:{displayFormats:{day:"DD"}}}}}})})})})),de=Object(l.b)((function(e){return{product:e.product,records:e.records}}),{loadProducts:Z,loadRecords:W})((function(e){var t=e.product,a=e.records,c=e.loadProducts,r=e.loadRecords;return Object(n.useEffect)((function(){c(),r()}),[c,r]),Object(M.jsx)(n.Fragment,{children:Object(M.jsxs)("div",{className:"workarea",children:[Object(M.jsx)(ie,{products:t.products,productsInView:t.productsInView,loading:t.loading}),Object(M.jsx)(ue,{records:a.records,redraw:!0})]})})})),je=a(48),be=["component","auth"],pe=Object(l.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=a.isAuthenticated,c=a.loading,r=Object(je.a)(e,be);return Object(M.jsx)(i.b,Object(B.a)(Object(B.a)({},r),{},{render:function(e){return n||c?Object(M.jsx)(t,Object(B.a)({},e)):Object(M.jsx)(i.a,{to:"/login"})}}))})),me=["component","auth"],Oe=Object(l.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=a.isAuthenticated,c=a.loading,r=Object(je.a)(e,me);return Object(M.jsx)(i.b,Object(B.a)(Object(B.a)({},r),{},{render:function(e){return n&&!c?Object(M.jsx)(i.a,{to:"/dashboard"}):Object(M.jsx)(t,Object(B.a)({},e))}}))})),fe=a(26),he=a(109),xe=a(110),ge=[];var ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case m:return[].concat(Object($.a)(e),[n]);case O:return e.filter((function(e){return e.id!==n}));default:return e}},ye={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null};var Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case x:return Object(B.a)(Object(B.a)({},e),{},{isAuthenticated:!0,loading:!1,user:n});case f:case v:return localStorage.setItem("token",n.token),Object(B.a)(Object(B.a)(Object(B.a)({},e),n),{},{isAuthenticated:!0,loading:!1});case h:case g:case y:case N:return localStorage.removeItem("token"),Object(B.a)(Object(B.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1});default:return e}},we={products:[],productsInView:[],loading:!0,error:{}};var Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case C:return Object(B.a)(Object(B.a)({},e),{},{productsInView:n,loading:!1});case w:return Object(B.a)(Object(B.a)({},e),{},{products:n,productsInView:n,loading:!1});case R:case _:case k:case S:return Object(B.a)(Object(B.a)({},e),{},{loading:!1});case A:return Object(B.a)(Object(B.a)({},e),{},{error:n,loading:!1,products:[],productsInView:[]});case E:return Object(B.a)(Object(B.a)({},e),{},{loading:!0});default:return e}},ke={records:[],loading:!0,error:{}};var Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case T:return Object(B.a)(Object(B.a)({},e),{},{records:n,loading:!1});case I:return Object(B.a)(Object(B.a)({},e),{},{error:n,records:[],loading:!1});default:return e}},Re={plotItems:[],visualization:"acumulated"};var _e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case D:return Object(B.a)(Object(B.a)({},e),{},{plotItems:n});case P:return Object(B.a)(Object(B.a)({},e),{},{visualization:n});default:return e}},Ee=Object(fe.combineReducers)({alert:ve,auth:Ne,product:Ce,records:Se,plot:_e}),Ae=Object(fe.createStore)(Ee,{},Object(he.composeWithDevTools)(Object(fe.applyMiddleware)(xe.a)));a(290);localStorage.token&&U(localStorage.token);var Te=function(){return Object(n.useEffect)((function(){Ae.dispatch(V())}),[]),Object(M.jsx)(l.a,{store:Ae,children:Object(M.jsx)(o.a,{children:Object(M.jsxs)(n.Fragment,{children:[Object(M.jsx)(z,{}),Object(M.jsx)(Oe,{exact:!0,path:"/",component:J}),Object(M.jsxs)(i.d,{children:[Object(M.jsx)(Oe,{exact:!0,path:"/registrar",component:Q}),Object(M.jsx)(Oe,{exact:!0,path:"/login",component:K}),Object(M.jsx)(pe,{exact:!0,path:"/dashboard",component:de})]})]})})})};s.a.render(Object(M.jsx)(c.a.StrictMode,{children:Object(M.jsx)(Te,{})}),document.getElementById("root"))}},[[291,1,2]]]);
//# sourceMappingURL=main.fcf71f53.chunk.js.map