(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{144:function(e,t,a){},288:function(e,t,a){},289:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(44),s=a.n(r),o=a(14),i=a(10),l=a(9),u=a(7),d=a.n(u),j=a(13),p=a(15),b=a.n(p),O="SET_ALERT",m="REMOVE_ALERT",h="REGISTER_SUCCESS",f="REGISTER_FAIL",g="USER_LOADED",x="AUTH_ERROR",v="LOGIN_SUCCESS",y="LOGIN_FAIL",N="LOGOUT",w="GET_PRODUCTS",C="QUERY_PRODUCTS",S="DELETE_PRODUCT",k="DELETE_CATEGORY_FROM_PRODUCT",R="ADD_PRODUCT",E="ERROR_ADD_PRODUCT",A="LOADING_PRODUCT",I="PRODUCTS_ERROR",T="GET_RECORDS",D="RECORDS_ERROR",_="TOGGLE_PLOT_ITEM",P="TOGGLE_PLOT_VISUALIZATION",L=a(291),U=function(e,t){return function(a){var n=Object(L.a)();a({type:O,payload:{msg:e,alertType:t,id:n}}),setTimeout((function(){return a({type:m,payload:n})}),3e3)}},F=function(e){e?b.a.defaults.headers.common.Authorization=e:delete b.a.defaults.headers.common.Authorization},G=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&F(localStorage.token),e.prev=1,e.next=4,b.a.get("/api/auth");case 4:a=e.sent,t({type:g,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:x});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},V=a.p+"static/media/logo.360a1715.png",z=a(1);var M=Object(l.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(e){e({type:N})}}})((function(e){var t=e.auth,a=t.isAuthenticated,c=t.loading,r=e.logout,s=Object(i.g)().pathname,l=Object(z.jsx)("ul",{children:Object(z.jsx)("li",{children:Object(z.jsxs)("a",{onClick:r,href:"#!",children:[Object(z.jsx)("i",{className:"fas fa-sign-out-alt"})," ",Object(z.jsx)("span",{className:"hide-sm",children:"Sair"})]})})}),u=Object(z.jsxs)("ul",{children:[Object(z.jsx)("li",{children:Object(z.jsx)(o.b,{to:"/login",children:"Login"})}),Object(z.jsx)("li",{children:Object(z.jsx)(o.b,{to:"/registrar",children:"Registrar"})})]});return Object(z.jsxs)("nav",{className:"navbar ".concat("/dashboard"===s&&"navbar-transposed"),children:["/dashboard"!==s?Object(z.jsxs)(o.b,{to:"/",className:"logo-container",children:[Object(z.jsx)("img",{src:V,alt:"logo",className:"logo-s"}),Object(z.jsx)("h3",{children:"Deep in Sales"})]}):Object(z.jsx)(n.Fragment,{children:Object(z.jsx)("img",{src:V,alt:"logo",className:"logo-m"})}),!c&&Object(z.jsxs)(n.Fragment,{children:[" ",a?l:u]})]})}));var q=function(){return Object(z.jsx)("section",{className:"landing",children:Object(z.jsx)("div",{className:"dark-overlay",children:Object(z.jsxs)("div",{className:"landing-inner",children:[Object(z.jsx)("h1",{className:"x-large",children:"Deep in Sales"}),Object(z.jsx)("p",{className:"lead",children:"Monitore an\xfancios do Mercado Livre."}),Object(z.jsxs)("div",{class:"buttons-container",children:[Object(z.jsx)(o.b,{to:"/registrar",className:"btn btn-primary",children:"Registrar"}),Object(z.jsx)(o.b,{to:"/login",className:"btn btn-light",children:"Login"})]})]})})})},J=a(5),B=a(2),Y=a(11),H=Object(l.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map((function(e){return Object(z.jsx)("div",{className:"alert alert-".concat(e.alertType),children:e.msg},e.id)}))}));var K=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e){var t=e.email,a=e.password;return function(){var e=Object(j.a)(d.a.mark((function e(n){var c,r,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:t,password:a}),e.prev=2,e.next=5,b.a.post("/api/auth",r,c);case 5:s=e.sent,n({type:v,payload:s.data}),n(G()),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),(o=e.t0.response.data.errors)&&o.forEach((function(e){return n(U(e.message,"danger"))})),n({type:y});case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.login,a=e.isAuthenticated,c=Object(n.useState)({email:"",password:""}),r=Object(Y.a)(c,2),s=r[0],o=r[1],l=s.email,u=s.password,d=function(e){return o(Object(B.a)(Object(B.a)({},s),{},Object(J.a)({},e.target.name,e.target.value)))};return a?Object(z.jsx)(i.a,{to:"/dashboard"}):Object(z.jsx)(n.Fragment,{children:Object(z.jsxs)("section",{className:"container",children:[Object(z.jsx)(H,{}),Object(z.jsx)("h1",{className:"large text-primary",children:"Sign In"}),Object(z.jsxs)("p",{className:"lead",children:[Object(z.jsx)("i",{className:"fas fa-user"})," Sign into Your Account"]}),Object(z.jsxs)("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t({email:l,password:u})}(e)},children:[Object(z.jsx)("div",{className:"form-group",children:Object(z.jsx)("input",{type:"email",placeholder:"Email Address",name:"email",value:l,onChange:function(e){return d(e)},required:!0})}),Object(z.jsx)("div",{className:"form-group",children:Object(z.jsx)("input",{type:"password",placeholder:"Password",name:"password",minLength:"6",value:u,onChange:function(e){return d(e)},required:!0})}),Object(z.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Entrar"}),Object(z.jsxs)("p",{className:"my-1",children:["Don't have an account? ",Object(z.jsx)("a",{href:"register.html",children:"Sign Up"})]})]})]})})}));var Q=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{setAlert:U,register:function(e){var t=e.name,a=e.email,n=e.password;return function(){var e=Object(j.a)(d.a.mark((function e(c){var r,s,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"Content-Type":"application/json"}},s=JSON.stringify({name:t,email:a,password:n}),e.prev=2,e.next=5,b.a.post("/api/users/register",s,r);case 5:o=e.sent,c({type:h,payload:o.data}),c(G()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),(i=e.t0.response.data.errors)&&i.forEach((function(e){return c(U(e.message,"danger"))})),c({type:f});case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.setAlert,a=e.register,c=e.isAuthenticated,r=Object(n.useState)({name:"",email:"",password:"",password2:""}),s=Object(Y.a)(r,2),o=s[0],l=s[1],u=o.name,d=o.email,j=o.password,p=o.password2,b=function(e){return l(Object(B.a)(Object(B.a)({},o),{},Object(J.a)({},e.target.name,e.target.value)))};return c?Object(z.jsx)(i.a,{to:"/dashboard"}):Object(z.jsx)(n.Fragment,{children:Object(z.jsxs)("section",{className:"container",children:[Object(z.jsx)(H,{}),Object(z.jsx)("h1",{className:"large text-primary",children:"Registro"}),Object(z.jsxs)("p",{className:"lead",children:[Object(z.jsx)("i",{className:"fas fa-user"})," Crie uma conta"]}),Object(z.jsxs)("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),j!==p?t("As senhas n\xe3o correspondem","danger"):a({name:u,email:d,password:j})}(e)},children:[Object(z.jsx)("div",{className:"form-group",children:Object(z.jsx)("input",{type:"text",placeholder:"Name",name:"name",value:u,onChange:function(e){return b(e)}})}),Object(z.jsx)("div",{className:"form-group",children:Object(z.jsx)("input",{type:"email",placeholder:"Email Address",name:"email",value:d,onChange:function(e){return b(e)}})}),Object(z.jsx)("div",{className:"form-group",children:Object(z.jsx)("input",{type:"password",placeholder:"Password",name:"password",minLength:"6",value:j,onChange:function(e){return b(e)}})}),Object(z.jsx)("div",{className:"form-group",children:Object(z.jsx)("input",{type:"password",placeholder:"Confirm Password",name:"password2",minLength:"6",value:p,onChange:function(e){return b(e)}})}),Object(z.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Registar-se"})]})]})})})),W=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/records");case 3:a=e.sent,t({type:T,payload:a.data.records}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),t({type:D,payload:{msg:"error"}});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Z=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/products");case 3:a=e.sent,t({type:w,payload:a.data.products}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:I,payload:{msg:"error"}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},$=a(8),X=(a(144),Object(l.b)((function(e){return{plot:e.plot}}),{togglePlotItem:function(e,t,a){return function(){var n=Object(j.a)(d.a.mark((function n(c){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=a?[].concat(Object($.a)(e),[t]):e.filter((function(e){return e!==t})),c({type:_,payload:r});case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteProduct:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(a){var n,c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:A}),n={headers:{"Content-Type":"application/json"}},c=JSON.stringify({productId:e}),t.prev=3,t.next=6,b.a.post("/api/products/delete",c,n);case 6:t.sent,a({type:S}),a(Z()),a(W()),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),(r=t.t0.response.data.errors)&&r.forEach((function(e){return a(U(e.message,"danger"))}));case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}()},deleteCategoryFromProduct:function(e,t){return function(){var a=Object(j.a)(d.a.mark((function a(n){var c,r,s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={headers:{"Content-Type":"application/json"}},r=JSON.stringify({productId:e,categoryName:t}),a.prev=2,a.next=5,b.a.post("/api/products/category/delete",r,c);case 5:a.sent,n({type:k}),n(Z()),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(2),(s=a.t0.response.data.errors)&&s.forEach((function(e){return n(U(e.message,"danger"))}));case 14:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.product,a=e.togglePlotItem,c=e.deleteProduct,r=e.deleteCategoryFromProduct,s=e.plot,o=Object(n.useState)(!1),i=Object(Y.a)(o,2),l=i[0],u=i[1],d=Object(n.useState)(!1),j=Object(Y.a)(d,2),p=j[0],b=j[1],O=Object(n.useState)({name:""}),m=Object(Y.a)(O,2),h=m[0],f=m[1],g=Object(n.useState)(!1),x=Object(Y.a)(g,2),v=x[0],y=x[1],N=h.name;Object(n.useEffect)((function(){s.plotItems.includes(t.id)?y(!0):y(!1)}),[s,t]);var w=function(e){e.preventDefault()},C=(n.Fragment,t.category.map((function(e,a){return Object(z.jsxs)("div",{className:"categories-tag",style:{border:"1px solid ".concat(e.borderColor),backgroundColor:"".concat(e.bgColor)},children:[e.name,l&&Object(z.jsx)("i",{className:"fas fa-times-circle icon-btn",style:{marginLeft:"5px"},onClick:function(){r(t.id,e.name)}})]},a)}))),S=Object(z.jsxs)(n.Fragment,{children:[Object(z.jsxs)("div",{children:[Object(z.jsx)("i",{className:"fas fa-eye icon icon-light"}),Object(z.jsx)("p",{className:"info-icon-text",children:t.curr_total_visits})]}),Object(z.jsxs)("div",{children:[Object(z.jsx)("i",{className:"fas fa-shopping-cart icon icon-light"}),Object(z.jsx)("p",{className:"info-icon-text",children:t.curr_total_sells})]}),Object(z.jsxs)("div",{children:[Object(z.jsx)("i",{className:"fas fa-sync-alt icon icon-light"}),Object(z.jsx)("p",{className:"info-icon-text",children:t.conversion_rate.toFixed(2)})]})]}),k=Object(z.jsx)(n.Fragment,{children:Object(z.jsxs)("div",{className:"icon-btn btn-danger",onClick:function(){return c(t.id)},children:[Object(z.jsx)("i",{className:"fas fa-trash-alt icon-sm",style:{marginRight:"5px"}}),"Deletar"]})}),R=Object(z.jsxs)(n.Fragment,{children:[Object(z.jsxs)("p",{children:["R$",t.price]}),Object(z.jsx)("p",{className:"text-s dp",children:t.seller})]}),E=Object(z.jsxs)("div",{className:"item-container ".concat(v?"border-glow":""),children:[Object(z.jsx)("a",{href:t.url,target:"_blank",children:Object(z.jsx)("img",{src:t.image_url,alt:"produto",className:"image-btn"})}),Object(z.jsxs)("div",{className:"item-outer",children:[Object(z.jsxs)("div",{className:"item-header",children:[Object(z.jsx)("i",{className:"fas fa-info icon icon-btn icon-header-product ".concat(p?"btn-icon-glow-green":""),style:{marginRight:"5px"},onClick:function(){return t.name,b(!p),void(!p&&l&&u(!1))}}),Object(z.jsx)("i",{className:"fas fa-cog icon icon-btn icon-header-product ".concat(l?"btn-icon-glow-green":""),onClick:function(){return t.name,u(!l),void(!l&&p&&b(!1))}}),Object(z.jsx)("p",{className:"item-title",children:t.name.length>30?t.name.slice(0,31).concat("..."):t.name}),Object(z.jsx)("i",{className:"fas fa-chart-bar icon icon-btn icon-header-product ".concat(v?"btn-icon-glow":""),onClick:function(){return function(e){y(!v),a(s.plotItems,e.id,!v)}(t)}})]}),Object(z.jsx)("div",{className:"categories-box",children:C}),Object(z.jsx)("div",{className:"item-inner",children:l?k:p?R:S})]})]});return Object(z.jsx)(n.Fragment,{children:E})}))),ee=a(108),te=function(e){var t=e.tags,a=e.setTags,c=Object(n.useRef)(""),r=function(){return Math.floor(250*Math.random())};return Object(z.jsxs)("div",{children:[Object(z.jsx)("input",{id:"categoryInput",type:"text",placeholder:"Categoria (TAB para adicionar)",onKeyDown:function(e){var n=e.target.value,s=[r(),r(),r()],o=s[0],i=s[1],l=s[2];"rgb(".concat(o,", ").concat(i,", ").concat(l,")"),"rgba(".concat(o,", ").concat(i,", ").concat(l,", 0.1)");if("Tab"===e.key&&n){if(console.log(t,n),t.includes(n))return void console.log("saiu");a([].concat(Object($.a)(t),[n])),c.current.value=""}},ref:c}),Object(z.jsx)("ul",{className:"tag-container",children:t.map((function(e,n){return Object(z.jsxs)("li",{className:"tag",children:[e,Object(z.jsx)(ee.a,{onClick:function(){return function(e){var n=Object($.a)(t);n.splice(e,1),a(n)}(n)},className:"tag-delete"})]},e)}))})]})};var ae=Object(l.b)(null,{addProduct:function(e){var t=e.name,a=e.url,n=e.categories;return function(){var e=Object(j.a)(d.a.mark((function e(c){var r,s,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"Content-Type":"application/json"}},s=JSON.stringify({name:t,url:a,categories:n}),e.prev=2,c({type:A}),e.next=6,b.a.post("/api/products",s,r);case 6:o=e.sent,c({type:R,payload:o.data.product}),c(Z()),c(W()),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),(i=e.t0.response.data.errors)&&i.forEach((function(e){return c(U(e.message,"danger"))})),c({type:E});case 17:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.addProduct,a=e.onAddProduct,c=Object(n.useState)(""),r=Object(Y.a)(c,2),s=r[0],o=r[1],i=Object(n.useState)(""),l=Object(Y.a)(i,2),u=l[0],d=l[1],j=Object(n.useState)([]),p=Object(Y.a)(j,2),b=p[0],O=p[1];return Object(z.jsxs)("div",{className:"addProduct-container",children:[Object(z.jsx)("h1",{children:"Adicione um produto"}),Object(z.jsxs)("form",{className:"add-form",onSubmit:function(e){e.preventDefault(),t({name:s,url:u,categories:b}),o(""),d(""),O([]),a()},onKeyDown:function(e){"Tab"===e.key&&(document.getElementById("categoryInput")!==document.activeElement||e.preventDefault())},children:[Object(z.jsxs)("div",{className:"form-control text-light",children:[Object(z.jsx)("label",{children:"URL do an\xfancio"}),Object(z.jsx)("input",{type:"url",placeholder:"URL do an\xfancio",value:u,onChange:function(e){return d(e.target.value)},required:!0})]}),Object(z.jsxs)("div",{className:"form-control text-light",children:[Object(z.jsx)("label",{children:"Nome (opcional)"}),Object(z.jsx)("input",{type:"text",placeholder:"Nome do produto",value:s,onChange:function(e){return o(e.target.value)}})]}),Object(z.jsxs)("div",{className:"form-control text-light",children:[Object(z.jsx)("label",{children:"Categoria(s)"}),Object(z.jsx)(te,{tags:b,setTags:O})]}),Object(z.jsx)("input",{type:"submit",value:"Salvar an\xfancio",className:"btn btn-success btn-block"})]})]})})),ne=a(100),ce=a(103),re=a.n(ce);var se=Object(l.b)(null,{queryProducts:function(e,t){return function(){var a=Object(j.a)(d.a.mark((function a(n){var c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c=e.filter((function(e){return e.name.toUpperCase().includes(t.toUpperCase())||e.category.map((function(e){return e.name})).reduce((function(e,t){return e.concat(t)}),"").toUpperCase().includes(t.toUpperCase())})),n({type:C,payload:c});case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},togglePlotVisualization:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:P,payload:e?"daily":"acumulated"});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t,a=e.queryProducts,c=e.products,r=e.productsInView,s=e.loading,o=e.togglePlotVisualization,i=Object(n.useState)(!1),l=Object(Y.a)(i,2),u=l[0],d=l[1],j=Object(n.useState)(!1),p=Object(Y.a)(j,2),b=p[0],O=p[1],m=Object(n.useState)([{dateIni:"",dateEnd:"",productName:""}]),h=Object(Y.a)(m,2),f=h[0],g=h[1],x=Object(n.useState)(!1),v=Object(Y.a)(x,2),y=v[0],N=v[1],w=(f.dateIni,f.dateEnd,f.productName),C=function(e){a(c,e)},S=r.sort((function(e,t){var a=e.createdAt,n=t.createdAt;return a>n?-1:a<n?1:0})).map((function(e){return Object(z.jsx)(X,{product:e},e.id)})),k=Object(z.jsx)(n.Fragment,{children:Object(z.jsxs)("div",{className:"plotConfig-container",children:[Object(z.jsx)("h2",{children:"Ajustes do gr\xe1fico"}),Object(z.jsx)("p",{children:"Modo de visualiza\xe7\xe3o"}),Object(z.jsxs)("div",{className:"plotConfig-bx",children:[Object(z.jsx)("span",{children:"Acumulado"}),Object(z.jsx)(re.a,(t={onChange:function(e){N(e),o(e)},checked:y,onColor:"#ddd",offColor:"#ddd",onHandleColor:"#2693e6",offHandleColor:"#2693e6",handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:15},Object(J.a)(t,"handleDiameter",22),Object(J.a)(t,"width",48),Object(J.a)(t,"className","react-switch"),Object(J.a)(t,"id","material-switch"),t)),Object(z.jsx)("span",{children:"Di\xe1rio"})]})]})});return Object(z.jsx)(n.Fragment,{children:Object(z.jsxs)("section",{className:"container-products",children:[Object(z.jsxs)("div",{className:"products-header",children:[Object(z.jsx)("form",{id:"search-product",onSubmit:function(e){return C(e)}}),Object(z.jsxs)("div",{className:"form-products",children:[Object(z.jsx)("i",{className:"fas fa-chart-pie icon icon-btn icon-15x pop-window-btn",onClick:function(){d(!u)}}),Object(z.jsx)("div",{className:"dummy",children:u&&k}),Object(z.jsx)("input",{type:"text",placeholder:"Pesquise produtos ou categorias...",form:"search-product",name:"productName",value:w,onChange:function(e){return function(e){g(Object(B.a)(Object(B.a)({},f),{},Object(J.a)({},e.target.name,e.target.value))),"productName"===e.target.name&&C(e.target.value)}(e)}}),Object(z.jsx)("i",{className:"fas fa-plus-square icon-btn icon-2x add-product-btn",onClick:function(){O(!b)}}),Object(z.jsx)("div",{className:"dummy",children:b&&Object(z.jsx)(ae,{onAddProduct:function(){O(!1)}})})]})]}),Object(z.jsxs)("div",{className:"products-body",style:{overflowY:"auto"},children:[s&&Object(z.jsx)(n.Fragment,{children:Object(z.jsx)(ne.CommonLoading,{})}),Object(z.jsx)(H,{}),S]})]})})})),oe=a(109);a(287);var ie=Object(l.b)((function(e){return{plot:e.plot}}))((function(e){var t=e.records,a=e.plot,c={datasets:t.filter((function(e){return a.plotItems.includes(e.productId)})).filter((function(e){return e.record.length>0})).map((function(e){return{label:e.productName,data:e.record.map((function(e){return{x:e.timestamp,y:"daily"==a.visualization?e.daily_sells:e.total_sells}})),fill:!1,backgroundColor:"rgb(".concat(e.color[0],", ").concat(e.color[1],", ").concat(e.color[2],")"),borderColor:"rgb(".concat(e.color[0],", ").concat(e.color[1],", ").concat(e.color[2],", 0.2)"),tension:.2}}))};return Object(z.jsx)(n.Fragment,{children:Object(z.jsx)("section",{className:"container-plot",children:Object(z.jsx)(oe.a,{data:c,height:150,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{position:"left",title:{display:!0,text:"daily"==a.visualization?"Vendas di\xe1rias":"Vendas acumuladas",font:{size:16}}},x:{type:"time"}}}})})})})),le=Object(l.b)((function(e){return{product:e.product,records:e.records}}),{loadProducts:Z,loadRecords:W})((function(e){var t=e.product,a=e.records,c=e.loadProducts,r=e.loadRecords;return Object(n.useEffect)((function(){c(),r()}),[c,r]),Object(z.jsx)(n.Fragment,{children:Object(z.jsxs)("div",{className:"workarea",children:[Object(z.jsx)(se,{products:t.products,productsInView:t.productsInView,loading:t.loading}),Object(z.jsx)(ie,{records:a.records,redraw:!0})]})})})),ue=a(45),de=["component","auth"],je=Object(l.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=a.isAuthenticated,c=a.loading,r=Object(ue.a)(e,de);return Object(z.jsx)(i.b,Object(B.a)(Object(B.a)({},r),{},{render:function(e){return n||c?Object(z.jsx)(t,Object(B.a)({},e)):Object(z.jsx)(i.a,{to:"/login"})}}))})),pe=["component","auth"],be=Object(l.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=a.isAuthenticated,c=a.loading,r=Object(ue.a)(e,pe);return Object(z.jsx)(i.b,Object(B.a)(Object(B.a)({},r),{},{render:function(e){return n&&!c?Object(z.jsx)(i.a,{to:"/dashboard"}):Object(z.jsx)(t,Object(B.a)({},e))}}))})),Oe=a(25),me=a(106),he=a(107),fe=[];var ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case O:return[].concat(Object($.a)(e),[n]);case m:return e.filter((function(e){return e.id!==n}));default:return e}},xe={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null};var ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case g:return Object(B.a)(Object(B.a)({},e),{},{isAuthenticated:!0,loading:!1,user:n});case h:case v:return localStorage.setItem("token",n.token),Object(B.a)(Object(B.a)(Object(B.a)({},e),n),{},{isAuthenticated:!0,loading:!1});case f:case x:case y:case N:return localStorage.removeItem("token"),Object(B.a)(Object(B.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1});default:return e}},ye={products:[],productsInView:[],loading:!0,error:{}};var Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case C:return Object(B.a)(Object(B.a)({},e),{},{productsInView:n,loading:!1});case w:return Object(B.a)(Object(B.a)({},e),{},{products:n,productsInView:n,loading:!1});case R:case E:case S:case k:return Object(B.a)(Object(B.a)({},e),{},{loading:!1});case I:return Object(B.a)(Object(B.a)({},e),{},{error:n,loading:!1,products:[],productsInView:[]});case A:return Object(B.a)(Object(B.a)({},e),{},{loading:!0});default:return e}},we={records:[],loading:!0,error:{}};var Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case T:return Object(B.a)(Object(B.a)({},e),{},{records:n,loading:!1});case D:return Object(B.a)(Object(B.a)({},e),{},{error:n,records:[],loading:!1});default:return e}},Se={plotItems:[],visualization:"acumulated"};var ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case _:return Object(B.a)(Object(B.a)({},e),{},{plotItems:n});case P:return Object(B.a)(Object(B.a)({},e),{},{visualization:n});default:return e}},Re=Object(Oe.combineReducers)({alert:ge,auth:ve,product:Ne,records:Ce,plot:ke}),Ee=Object(Oe.createStore)(Re,{},Object(me.composeWithDevTools)(Object(Oe.applyMiddleware)(he.a)));a(288);localStorage.token&&F(localStorage.token);var Ae=function(){return Object(n.useEffect)((function(){Ee.dispatch(G())}),[]),Object(z.jsx)(l.a,{store:Ee,children:Object(z.jsx)(o.a,{children:Object(z.jsxs)(n.Fragment,{children:[Object(z.jsx)(M,{}),Object(z.jsx)(be,{exact:!0,path:"/",component:q}),Object(z.jsxs)(i.d,{children:[Object(z.jsx)(be,{exact:!0,path:"/registrar",component:Q}),Object(z.jsx)(be,{exact:!0,path:"/login",component:K}),Object(z.jsx)(je,{exact:!0,path:"/dashboard",component:le})]})]})})})};s.a.render(Object(z.jsx)(c.a.StrictMode,{children:Object(z.jsx)(Ae,{})}),document.getElementById("root"))}},[[289,1,2]]]);
//# sourceMappingURL=main.d799a445.chunk.js.map